@using Pronia.Models
@model Product
@{
    ViewData["Title"] = Model.ProductName;
}
@section styles{
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" integrity="sha512-vKMx8UnXk60zUwyUnUPM3HbQo8QfmNx7+ltw8Pm5zLusl1XIfwcxo8DbWCqMGKaWeNxWA8yrx5v3SaVpMvR3CA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
}
<!-- Begin Main Content Area  -->
<main class="main-content">
    <div
    class="breadcrumb-area breadcrumb-height"
    data-bg-image="images/breadcrumb/bg/1-1-1919x388.jpg"
    >
        <div class="container h-100">
            <div class="row h-100">
                <div class="col-lg-12">
                    <div class="breadcrumb-item">
                        <h2 class="breadcrumb-heading">Single Product</h2>
                        <ul>
                            <li>
                                <a asp-action="Index" asp-controller="Home">Home</a>
                            </li>
                            <li>Single Product variable</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="single-product-area section-space-top-100">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="single-product-img">
                        <div class="swiper-container single-product-slider">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <a
                                    href="assets/images/website-images/1-1-570x633.jpg"
                                    class="single-img gallery-popup"
                                    >
                                        <img
                                        class="img-full"
                                        src="~/img/products/@Model.CoverImage"
                                        alt="Product Image"
                                        />
                                    </a>
                                </div>                    


                            </div>
                        </div>
                        <div class="thumbs-arrow-holder">
                            <div class="swiper-container single-product-thumbs">
                                <div class="swiper-wrapper">
                                    @foreach (var item in Model.Images?.Select(x => x.ImageUrl) ?? [])
                                    {
                                        <a  class="swiper-slide">
                                            <img class="img-full"
                                            src="~/img/products/@item"
                                            alt="Product Thumbnail" />
                                        </a>
                                    }
                                </div>
                                <!-- Add Arrows -->
                                <div class="thumbs-button-wrap d-none d-md-block">
                                    <div class="thumbs-button-prev">
                                        <i class="pe-7s-angle-left"></i>
                                    </div>
                                    <div class="thumbs-button-next">
                                        <i class="pe-7s-angle-right"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 pt-5 pt-lg-0">
                    <div class="single-product-content">
                        <h2 class="title">@Model.ProductName</h2>
                        <div class="price-box">
                            <span class="new-price">@Model.SellPrice</span>
                        </div>
                        <div class="rating-box-wrap">
                            <div class="rating-box">
                                <ul>
                                    <li><i class="fa fa-star"></i></li>
                                    <li><i class="fa fa-star"></i></li>
                                    <li><i class="fa fa-star"></i></li>
                                    <li><i class="fa fa-star"></i></li>
                                    <li><i class="fa fa-star"></i></li>
                                </ul>
                            </div>
                            <div class="review-status">
                                <a href="#">( 1 Review )</a>
                            </div>
                        </div>
                        <div class="selector-wrap color-option">
                            <span class="selector-title border-bottom-0">Color</span>
                            <select class="nice-select wide border-bottom-0 rounded-0">
                                <option value="default">Black & White</option>
                                <option value="blue">Blue</option>
                                <option value="green">Green</option>
                                <option value="red">Red</option>
                            </select>
                        </div>
                        <div class="selector-wrap size-option">
                            <span class="selector-title">Size</span>
                            <select class="nice-select wide rounded-0">
                                <option value="medium">Medium Size & Poot</option>
                                <option value="large">Large Size With Poot</option>
                                <option value="small">Small Size With Poot</option>
                            </select>
                        </div>
                        <p class="short-desc">
                            @Model.ProductDescription
                        </p>
                        <ul class="quantity-with-btn">
                            <li class="quantity">
                                <div class="cart-plus-minus">
                                    <input
                                    class="cart-plus-minus-box"
                                    value="1"
                                    type="text"
                                    />
                                </div>
                            </li>
                            <li   class="add-to-cart">
                                <a prod-id="@Model.Id"
                                class="btn btn-custom-size lg-size btn-pronia-primary"                               
                                   > Add to cart</a>
                            </li>
                            <li class="wishlist-btn-wrap">
                                <a class="custom-circle-btn" href="wishlist.html">
                                    <i class="pe-7s-like"></i>
                                </a>
                            </li>
                            <li class="compare-btn-wrap">
                                <a class="custom-circle-btn" href="compare.html">
                                    <i class="pe-7s-refresh-2"></i>
                                </a>
                            </li>
                        </ul>                

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="product-tab-area section-space-top-100">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <ul class="nav product-tab-nav tab-style-2 pt-0" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a
                            class="tab-btn"
                            id="information-tab"
                            data-bs-toggle="tab"
                            href="#information"
                            role="tab"
                            aria-controls="information"
                            aria-selected="false"
                            >
                                Information
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a
                            class="active tab-btn"
                            id="description-tab"
                            data-bs-toggle="tab"
                            href="#description"
                            role="tab"
                            aria-controls="description"
                            aria-selected="true"
                            >
                                Description
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a
                            class="tab-btn"
                            id="reviews-tab"
                            data-bs-toggle="tab"
                            href="#reviews"
                            role="tab"
                            aria-controls="reviews"
                            aria-selected="false"
                            >
                                Reviews(@Model.Comments.Count)
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content product-tab-content">
                        <div
                        class="tab-pane fade"
                        id="information"
                        role="tabpanel"
                        aria-labelledby="information-tab"
                        >
                            <div class="product-information-body">
                                <h4 class="title">Shipping</h4>
                                <p class="short-desc mb-4">
                                    The item will be shipped from China. So it need 15-20
                                    days to deliver. Our product is good with reasonable
                                    price and we believe you will worth it. So please wait
                                    for it patiently! Thanks.Any question please kindly to
                                    contact us and we promise to work hard to help you to
                                    solve the problem
                                </p>
                                <h4 class="title">About return request</h4>
                                <p class="short-desc mb-4">
                                    If you don't need the item with worry, you can contact
                                    us then we will help you to solve the problem, so please
                                    close the return request! Thanks
                                </p>
                                <h4 class="title">Guarantee</h4>
                                <p class="short-desc mb-0">
                                    If it is the quality question, we will resend or refund
                                    to you; If you receive damaged or wrong items, please
                                    contact us and attach some pictures about product, we
                                    will exchange a new correct item to you after the
                                    confirmation.
                                </p>
                            </div>
                        </div>
                        <div
                        class="tab-pane fade show active"
                        id="description"
                        role="tabpanel"
                        aria-labelledby="description-tab"
                        >
                            <div class="product-description-body">
                                <p class="short-desc mb-0">
                                    Lorem ipsum dolor sit amet, consectetur adipisicing
                                    elit, sed do eiusmod tempor incidid ut labore et dolore
                                    magna aliqua. Ut enim ad minim veniam, quis nostrud
                                    exercitation ullamco laboris nisi ut aliquip ex ea
                                    commodo consequat. Duis aute irure dolor in
                                    reprehenderit in voluptate velit esse cillum dolore eu
                                    fugiat nulla pariatur. Excepteur sint occaecat cupidatat
                                    non proident, sunt in culpa qui officia deserunt mollit
                                    anim id est laborum. Sed ut perspiciatis unde omnis iste
                                    natus error sit voluptatem accusantium doloremque
                                    laudantium, totam rem aperiam, eaque ipsa quae ab illo
                                    inventore veritatis et quasi architecto beatae vitae
                                    dicta sunt explicabo. Nemo enim ipsam voluptatem quia
                                    voluptas sit aspernatur aut odit aut fugit, sed quia
                                    consequuntur magni dolores eos qui ratione voluptatem
                                    sequi nesciunt. Neque porro quisquam est, qui dolorem
                                    ipsum quia dolor sit amet,
                                </p>
                            </div>
                        </div>
                        <div
                        class="tab-pane fade"
                        id="reviews"
                        role="tabpanel"
                        aria-labelledby="reviews-tab"
                        >
                            <h4 class="heading">Comments(@Model.Comments.Count)  </h4>
                            @foreach(var item in Model.Comments ?? [])
                            {
                                
                                <div class="product-review-body">
                                    <div class="blog-comment mt-0">
                                       
                                        <div class="blog-comment-item">
                                            <div class="blog-comment-img" @* style="width: 50px; height: 50px; overflow: hidden; border-radius: 50%; display: inline-block;" *@>
                                                <img  src="~/img/users/@item.User.ProfileImageUrl"
                                                     alt="User Image" />
                                            </div>
                                            <div class="blog-comment-content">
                                                <div class="user-meta">
                                                    <h2 class="user-name">@item.User.Fullname</h2>
                                                    <span class="date">@item.CreatedTime</span>
                                                </div>
                                                <p class="user-comment">
                                                    @item.Comments
                                            </div>
                                        </div>


                                    </div>
                                </div>
                    }
                      @if(User.Identity!.IsAuthenticated)
                      {

                                <form method="get" enctype="multipart/form-data">
                                    <div class="form-group">
                                        <input type="hidden" name="productId" value="@Model.Id" />
                                    </div>
                                    <div class="form-group">
                                        <h2>Comment</h2>
                                        <textarea name="Comment" placeholder="Write your review"
                                                  style="width: 100%; height: 150px; padding: 10px; font-size: 14px;
           border: 1px solid #ccc; border-radius: 5px; resize: vertical;
           outline: none; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
    </textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary" asp-action="Comment" asp-controller="Product">Submit</button>
                                </form>
                      }
                      else
                      {
                                <div class="feedback-area">
                                    <h2 class="heading">Comment yazmaq ucun hesaba daxil olun</h2>
                                    <form method="get" enctype="multipart/form-data">
                                        <button type="submit" class="btn btn-primary" asp-action="Login" asp-controller="Account">Hesaba Daxil olun</button>
                                    </form>
                                </div>
                      }
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        

        <!-- Begin Product Area -->
        <div class="product-area section-space-y-axis-90">
          <div class="container">
            <div class="row">
              <div class="section-title-wrap without-tab">
                <h2 class="section-title">Related Products</h2>
                <p class="section-desc">
                  Contrary to popular belief, Lorem Ipsum is not simply random
                  text. It has roots in a piece of classical Latin literature
                </p>
              </div>
              <div class="col-lg-12">
                <div class="swiper-container product-slider">
                  <div class="swiper-wrapper">
                    <div class="swiper-slide product-item">
                      <div class="product-img">
                        <a href="single-product-variable.html">
                          <img
                            class="primary-img"
                            src="assets/images/website-images/1-9-270x300.jpg"
                            alt="Product Images"
                          />
                          <img
                            class="secondary-img"
                            src="assets/images/website-images/1-10-270x300.jpg"
                            alt="Product Images"
                          />
                        </a>
                        <div class="product-add-action">
                          <ul>
                            <li>
                              <a
                                href="wishlist.html"
                                data-tippy="Add to wishlist"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-like"></i>
                              </a>
                            </li>
                            <li
                              class="quuickview-btn"
                              data-bs-toggle="modal"
                              data-bs-target="#quickModal"
                            >
                              <a
                                href="#"
                                data-tippy="Quickview"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-look"></i>
                              </a>
                            </li>
                            <li>
                              <a
                                href="cart.html"
                                data-tippy="Add to cart"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-cart"></i>
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div class="product-content">
                        <a
                          class="product-name"
                          href="single-product-variable.html"
                          >American Marigold</a
                        >
                        <div class="price-box pb-1">
                          <span class="new-price">$23.45</span>
                        </div>
                        <div class="rating-box">
                          <ul>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="swiper-slide product-item">
                      <div class="product-img">
                        <a href="single-product-variable.html">
                          <img
                            class="primary-img"
                            src="assets/images/website-images/1-10-270x300.jpg"
                            alt="Product Images"
                          />
                          <img
                            class="secondary-img"
                            src="assets/images/website-images/1-11-270x300.jpg"
                            alt="Product Images"
                          />
                        </a>
                        <div class="product-add-action">
                          <ul>
                            <li>
                              <a
                                href="wishlist.html"
                                data-tippy="Add to wishlist"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-like"></i>
                              </a>
                            </li>
                            <li
                              class="quuickview-btn"
                              data-bs-toggle="modal"
                              data-bs-target="#quickModal"
                            >
                              <a
                                href="#"
                                data-tippy="Quickview"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-look"></i>
                              </a>
                            </li>
                            <li>
                              <a
                                href="cart.html"
                                data-tippy="Add to cart"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-cart"></i>
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div class="product-content">
                        <a
                          class="product-name"
                          href="single-product-variable.html"
                          >Black Eyed Susan</a
                        >
                        <div class="price-box pb-1">
                          <span class="new-price">$25.45</span>
                        </div>
                        <div class="rating-box">
                          <ul>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="swiper-slide product-item">
                      <div class="product-img">
                        <a href="single-product-variable.html">
                          <img
                            class="primary-img"
                            src="assets/images/website-images/1-11-270x300.jpg"
                            alt="Product Images"
                          />
                          <img
                            class="secondary-img"
                            src="assets/images/website-images/1-4-270x300.jpg"
                            alt="Product Images"
                          />
                        </a>
                        <div class="product-add-action">
                          <ul>
                            <li>
                              <a
                                href="wishlist.html"
                                data-tippy="Add to wishlist"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-like"></i>
                              </a>
                            </li>
                            <li
                              class="quuickview-btn"
                              data-bs-toggle="modal"
                              data-bs-target="#quickModal"
                            >
                              <a
                                href="#"
                                data-tippy="Quickview"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-look"></i>
                              </a>
                            </li>
                            <li>
                              <a
                                href="cart.html"
                                data-tippy="Add to cart"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-cart"></i>
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div class="product-content">
                        <a
                          class="product-name"
                          href="single-product-variable.html"
                          >Bleeding Heart</a
                        >
                        <div class="price-box pb-1">
                          <span class="new-price">$30.45</span>
                        </div>
                        <div class="rating-box">
                          <ul>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class="swiper-slide product-item">
                      <div class="product-img">
                        <a href="single-product-variable.html">
                          <img
                            class="primary-img"
                            src="assets/images/website-images/1-7-270x300.jpg"
                            alt="Product Images"
                          />
                          <img
                            class="secondary-img"
                            src="assets/images/website-images/1-8-270x300.jpg"
                            alt="Product Images"
                          />
                        </a>
                        <div class="product-add-action">
                          <ul>
                            <li>
                              <a
                                href="wishlist.html"
                                data-tippy="Add to wishlist"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-like"></i>
                              </a>
                            </li>
                            <li
                              class="quuickview-btn"
                              data-bs-toggle="modal"
                              data-bs-target="#quickModal"
                            >
                              <a
                                href="#"
                                data-tippy="Quickview"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-look"></i>
                              </a>
                            </li>
                            <li>
                              <a
                                href="cart.html"
                                data-tippy="Add to cart"
                                data-tippy-inertia="true"
                                data-tippy-animation="shift-away"
                                data-tippy-delay="50"
                                data-tippy-arrow="true"
                                data-tippy-theme="sharpborder"
                              >
                                <i class="pe-7s-cart"></i>
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div class="product-content">
                        <a
                          class="product-name"
                          href="single-product-variable.html"
                          >Bloody Cranesbill</a
                        >
                        <div class="price-box pb-1">
                          <span class="new-price">$45.00</span>
                        </div>
                        <div class="rating-box">
                          <ul>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Product Area End Here -->
      </main>
      <!-- Main Content Area End Here  -->

      @section scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js" integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      
          <script>  
        $('a.btn.btn-custom-size.lg-size.btn-pronia-primary').click(function(){
                  fetch('/Product/AddBasket/'+$(this).attr('prod-id'))
                  .then(x=>{
                      if(x.ok)
                      { 
                                  Command: toastr["success"]("Məhsul səbətə əlavə olundu")

        toastr.options = {
          "closeButton": false,
          "debug": false,
          "newestOnTop": false,
          "progressBar": false,
          "positionClass": "toast-top-right",
          "preventDuplicates": false,
          "onclick": null,
          "showDuration": "300",
          "hideDuration": "1000",
          "timeOut": "5000",
          "extendedTimeOut": "1000",
          "showEasing": "swing",
          "hideEasing": "linear",
          "showMethod": "fadeIn",
          "hideMethod": "fadeOut"
        }
                      }
                  })
              })
        
          </script>
      }

